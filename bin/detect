#!/usr/bin/env bash

# Function to check if this is an MCP Auth Proxy app based on environment variables
detect_mcp_auth_proxy() {
  local indicator_vars=(
    "MCP_AUTH_PROXY_REDIS_URL"
    "IDENTITY_SERVER_URL"
    "MCP_SERVER_URL"
  )
  for var in "${indicator_vars[@]}"; do
    if [[ -n "${!var}" ]]; then
      return 0
    fi
  done
  return 1
}

if detect_mcp_auth_proxy; then
  echo "MCP Auth Proxy"
  exit 0
fi

exit 1
